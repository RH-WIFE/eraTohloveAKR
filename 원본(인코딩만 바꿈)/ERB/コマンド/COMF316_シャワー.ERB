;-------------------------------------------------
;シャワー
;シチュエーション別コマンド
;-------------------------------------------------
@COM316

PRINTL シャワー
STR:0 = シャワー

;お湯加減
SIF TEQUIP:シャワー == 0
	CALL YUKAGEN

CALL KOJO_MESSAGE_COM

;着脱の処理　装備時はソース、経験の加算は行わない
IF TEQUIP:シャワー == 1
	TEQUIP:シャワー = 0
ELSE
	TEQUIP:シャワー = 1
ENDIF

;移動時に尿・便存在をクリア
TFLAG:66 = 0
TFLAG:57 = 0


;-------------------------------------------------
;汚れの処理
;-------------------------------------------------
CALL COM_STAIN

;潤滑を1000減らす
IF PALAM:潤滑 > 1000
	PALAM:潤滑 -= 1000
ELSE
	PALAM:潤滑 = 0
ENDIF


;-------------------------------------------------
;経験の処理
;-------------------------------------------------
;依存度ベクトル
TFLAG:33 = 0


RETURN 1




;-------------------------------------------------
;装着継続の処理
;-------------------------------------------------
@EQUIP_COM316
;シャワー使用中

PRINTL ＜シャワー使用中＞

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
LOSEBASE:体力 += 0
LOSEBASE:気力 += 0

;湯加減をみる
IF TFLAG:18 == 1
	LOSEBASE:体力 += 5
	LOSEBASE:気力 += 10
	;SOURSE:7 += 200
ELSEIF TFLAG:18 == 2
	LOSEBASE:体力 += 5
	LOSEBASE:気力 += 10
	;SOURSE:7 += 100
ENDIF

SOURCE:恭順 += 100
SOURCE:鬱屈 += 100
SOURCE:反発 += 50


;-------------------------------------------------
;汚れの処理
;-------------------------------------------------
CALL COM_STAIN

;潤滑を1000減らす
IF PALAM:潤滑 > 1000
	PALAM:潤滑 -= 1000
ELSE
	PALAM:潤滑 = 0
ENDIF

;移動時に尿・便存在をクリア
TFLAG:66 = 0
TFLAG:57 = 0

RETURN 1

;-------------------------------------------------
;お湯加減
;-------------------------------------------------
@YUKAGEN

PRINTL 湯加減はどうしますか？
PRINTL [0] - 普通
PRINTL [1] - 冷たい
PRINTL [2] - 熱い

$INPUT_LOOP
INPUT

IF RESULT == 0
	TFLAG:18 = 0
ELSEIF RESULT == 1
	TFLAG:18 = 1
ELSEIF RESULT == 2
	TFLAG:18 = 2
ELSE
	GOTO INPUT_LOOP
ENDIF


