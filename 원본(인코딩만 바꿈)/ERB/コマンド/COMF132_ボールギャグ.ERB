;-------------------------------------------------
;ボールギャグ
;ＳＭ-拘束系コマンド
;-------------------------------------------------
@COM132

PRINTL ボールギャグ
STR:0 = ボールギャグ
CALL KOJO_MESSAGE_COM


;着脱の処理
IF TEQUIP:ボールギャグ == 0
	TEQUIP:ボールギャグ = 1
ELSE
	TEQUIP:ボールギャグ = 0
ENDIF


;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
LOSEBASE:体力 += 0
LOSEBASE:気力 += 20

SOURCE:恐れ += 500
;地下室にいると恐れのソース追加
SIF TEQUIP:地下室
	TIMES SOURCE:恐れ , 1.50

SOURCE:露出 += 200
SOURCE:屈従 += 150
SOURCE:逸脱 += 100
SOURCE:反発 += 300

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;緊縛経験が高いと消費減少
IF EXP:緊縛経験 < EXPLV:3
	TIMES LOSEBASE:体力 , 1.00
	TIMES LOSEBASE:気力 , 1.00
ELSEIF EXP:緊縛経験 < EXPLV:4
	TIMES LOSEBASE:体力 , 0.90
	TIMES LOSEBASE:気力 , 0.90
ELSE
	TIMES LOSEBASE:体力 , 0.70
	TIMES LOSEBASE:気力 , 0.70
ENDIF

;-------------------------------------------------
;汚れの処理
;-------------------------------------------------
;触手がいる場合、口に触手の汚れを追加
SIF TEQUIP:触手
	CALL COM_STAIN

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
EXP:緊縛経験 += 2
PRINTL 緊縛経験＋２

;依存度ベクトル
TFLAG:33 = 3

;依存度補正値(服従で1、隷属で2）
IF TALENT:服従 && ASSIPLAY == 0
	TFLAG:30 += 1
ELSEIF TALENT:隷属 && ASSIPLAY == 0
	TFLAG:30 += 2
ENDIF


RETURN 1



;-------------------------------------------------
;装着継続の処理
;-------------------------------------------------
@EQUIP_COM132
PRINTL ＜ボールギャグ装備中＞

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
LOSEBASE:体力 += 0
LOSEBASE:気力 += 30

SOURCE:恐れ += 250
SOURCE:露出 += 150
SOURCE:屈従 += 75
SOURCE:逸脱 += 50
SOURCE:反発 += 150

;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;緊縛経験が高いと消費減少
A = 25
IF EXP:緊縛経験 < EXPLV:3
	TIMES A , 1.00
ELSEIF EXP:緊縛経験 < EXPLV:4
	TIMES A , 0.90
ELSE
	TIMES A , 0.70
ENDIF
LOSEBASE:気力 += A

;-------------------------------------------------
;経験の処理
;-------------------------------------------------
EXP:緊縛経験 += 1
PRINTL 緊縛経験＋１

RETURN 1

