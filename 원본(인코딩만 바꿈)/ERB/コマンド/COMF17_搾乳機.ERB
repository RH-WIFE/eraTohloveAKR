;-------------------------------------------------
;搾乳機
;Ｂ系調教コマンド
;-------------------------------------------------
@COM17

IF TEQUIP:触手
	PRINTL 触手搾乳
	STR:0 = 触手搾乳
	SELECTCOM = 360
ELSE
	PRINTL 搾乳機
	STR:0 = 搾乳機
ENDIF

CALL KOJO_MESSAGE_COM


;着脱の処理
IF TEQUIP:搾乳機 == 0
	TEQUIP:搾乳機 = 1
ELSE
	TEQUIP:搾乳機 = 0
ENDIF


;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
;消費体力、気力
LOSEBASE:体力 += 20
LOSEBASE:気力 += 80

SOURCE:快Ｂ += 200

SOURCE:中毒充足 += 100
SOURCE:露出 += 30
SOURCE:屈従 += 100
SOURCE:逸脱 += 100
SOURCE:反発 += 100


;-------------------------------------------------
;特殊ソース処理
;-------------------------------------------------
;抑圧、抵抗持ちには、抑鬱ソース追加
SIF TALENT:抑圧 || TALENT:抵抗
	SOURCE:鬱屈 += 100

;中毒による中毒充足のソースは先に処理しておく
;噴乳中毒を見る
IF ABL:レズ中毒 == 1
	TIMES SOURCE:中毒充足 , 0.00
ELSEIF ABL:レズ中毒 == 2
	TIMES SOURCE:中毒充足 , 0.30
ELSEIF ABL:レズ中毒 == 3
	TIMES SOURCE:中毒充足 , 0.60
ELSEIF ABL:レズ中毒 == 4
	TIMES SOURCE:中毒充足 , 0.90
ELSEIF ABL:レズ中毒 == 5
	TIMES SOURCE:中毒充足 , 1.20
ELSEIF ABL:レズ中毒 == 6
	TIMES SOURCE:中毒充足 , 1.50
ELSEIF ABL:レズ中毒 == 7
	TIMES SOURCE:中毒充足 , 1.80
ELSEIF ABL:レズ中毒 == 8
	TIMES SOURCE:中毒充足 , 2.30
ELSEIF ABL:レズ中毒 == 9
	TIMES SOURCE:中毒充足 , 3.00
ELSEIF ABL:レズ中毒 >= 10
	TIMES SOURCE:中毒充足 , 5.00
ENDIF


;-------------------------------------------------
;汚れの処理
;-------------------------------------------------
CALL COM_STAIN


;-------------------------------------------------
;経験の処理
;-------------------------------------------------
;ゲイ経験とか加算
CALL COM_EXP(1)

;触手召喚時、触手経験のリセットをする
SIF TEQUIP:触手 == 1
	T = 0

;依存度ベクトル
TFLAG:33 = 3


RETURN 1


;-------------------------------------------------
;装着継続の処理
;-------------------------------------------------
@EQUIP_COM17
;搾乳機装備中
IF TEQUIP:触手
	PRINTL ＜触手搾乳中＞
ELSE
	PRINTL ＜搾乳機装備中＞
ENDIF

;-------------------------------------------------
;ソース追加処理
;-------------------------------------------------
LOSEBASE:体力 += 10
LOSEBASE:気力 += 30

SOURCE:快Ｂ += 100
SOURCE:痛み += 50
SOURCE:中毒充足 += 50
SOURCE:露出 += 15
SOURCE:屈従 += 50
SOURCE:逸脱 += 50
SOURCE:反発 += 50


;-------------------------------------------------
;経験の処理
;-------------------------------------------------
;触手経験加算
SIF TEQUIP:触手 == 1
	T += 1


RETURN 1


