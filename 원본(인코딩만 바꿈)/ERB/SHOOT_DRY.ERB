
;----------------------------------------------------------------
;ドライオーガズム関連の処理
;やっぱ要るかなって思って作った。テスト段階。
;精飲絶頂辺りの処理を参考にしました。

;基本、ＢＶＡ感覚が高いときに、各箇所に強い刺激を受けると一定確率でドライに達します。
;初めてドライに達した後は、ドライ経験によりその確率がさらに上がり、
;ドライ経験が上がるにつれ、ＢＶＡを弄ったときの射精感が上がりづらくなります。
;空射精は、堰き止められるなど出せない状態での射精であって、ドライオーガズムは別物です。
;----------------------------------------------------------------
@SHOOT_DRY_CHECK

;ＡＢＶ絶頂していなければ処理しない
SIF !A && !B && !V
	RETURN 0

;Ａ絶頂したけどＡ感覚低ければ処理しない
SIF A && ABL:Ａ感覚 < 4
	RETURN 0
;Ｂ絶頂したけど感覚低ければ処理しない
SIF B && ABL:Ｂ感覚 < 4
	RETURN 0
;Ｖ絶頂したけど感覚低ければ処理しない
SIF B && ABL:Ｖ感覚 < 4
	RETURN 0


;規定の回数
P = 50

;奴隷の素質により規定回数を増減する
;気丈
SIF TALENT:気丈 == 1
	P += 2
;プライド高い
SIF TALENT:プライド高い == 1
	P += 5
;保守的
SIF TALENT:保守的 == 1
	P += 2
;楽観的
SIF TALENT:楽観的 == 1
	P -= 2
;悲観的
SIF TALENT:悲観的 == 1
	P += 5
;一線越えない
SIF TALENT:一線越えない == 1
	P += 5
;抑圧
SIF TALENT:抑圧 == 1
	P += 5
;解放
SIF TALENT:解放 == 1
	P -= 2
;薬毒耐性
SIF TALENT:薬毒耐性 == 1
	P += 2
;汚れ無視
SIF TALENT:汚れ無視 == 1
	P -= 3
;汚臭鈍感
SIF TALENT:汚臭鈍感 == 1
	P -= 2
;汚臭敏感
SIF TALENT:汚臭敏感 == 1
	P += 2
;快感に素直
SIF TALENT:快感に素直 == 1
	P -= 2
;快感の否定
SIF TALENT:快感の否定 == 1
	P += 5
;中毒しやすい
SIF TALENT:中毒しやすい == 1
	P -= 5
;倒錯的
SIF TALENT:倒錯的 == 1
	P -= 2
;男嫌い
SIF TALENT:男嫌い == 1
	P += 2


IF TALENT:子供サイズ || !CFLAG:11
	P = 0
ELSEIF TALENT:娼婦 || TALENT:親愛 || TALENT:隷属
	P /= 3
ELSEIF TALENT:淫乱 || TALENT:恋慕 || TALENT:服従
	P /= 2
ENDIF


;ドライ経験が規定値に達してればドライ絶頂
;子供サイズ、射精限界も含まれる
IF EXP:ドライ経験 >= P && (A || B || V)
	TFLAG:165 = 7
ELSE
	IF A
		IF ABL:Ａ感覚 >= 8
			SIF !RAND:3
			TFLAG:165 = 7
		ELSEIF ABL:Ａ感覚 == 7
			SIF !RAND:5
			TFLAG:165 = 7
		ELSEIF ABL:Ａ感覚 == 6
			SIF !RAND:10
			TFLAG:165 = 7
		ELSEIF ABL:Ａ感覚 == 5
			SIF !RAND:20
			TFLAG:165 = 7
		ELSEIF ABL:Ａ感覚 >= 3
			SIF !RAND:50
			TFLAG:165 = 7
		ENDIF
	ENDIF
	IF B
		IF ABL:Ｂ感覚 >= 8
			SIF !RAND:3
			TFLAG:165 = 7
		ELSEIF ABL:Ｂ感覚 == 7
			SIF !RAND:5
			TFLAG:165 = 7
		ELSEIF ABL:Ｂ感覚 == 6
			SIF !RAND:10
			TFLAG:165 = 7
		ELSEIF ABL:Ｂ感覚 == 5
			SIF !RAND:20
			TFLAG:165 = 7
		ELSEIF ABL:Ｂ感覚 >= 3
			SIF !RAND:50
			TFLAG:165 = 7
		ENDIF
	ENDIF
	IF V
		IF ABL:Ｖ感覚 >= 8
			SIF !RAND:3
			TFLAG:165 = 7
		ELSEIF ABL:Ｖ感覚 == 7
			SIF !RAND:5
			TFLAG:165 = 7
		ELSEIF ABL:Ｖ感覚 == 6
			SIF !RAND:10
			TFLAG:165 = 7
		ELSEIF ABL:Ｖ感覚 == 5
			SIF !RAND:20
			TFLAG:165 = 7
		ELSEIF ABL:Ｖ感覚 >= 3
			SIF !RAND:50
			TFLAG:165 = 7
		ENDIF
	ENDIF
ENDIF


